---
provisioner:
  name: chef_zero
  client_rb:
    audit_mode: :enabled

platforms:
  - name: osx-1010
    driver:
      name: vagrant
      box: jhcook/osx-yosemite-10.10
      box_url: https://atlas.hashicorp.com/jhcook/boxes/osx-yosemite-10.10/versions/10.10.5/providers/virtualbox.box
  - name: centos-6.7
    driver:
      name: docker
      use_sudo: false
  - name: centos-7.2
    driver:
      name: docker
      use_sudo: false
  - name: ubuntu-14.04
    driver:
      name: docker
      use_sudo: false
  - name: ubuntu-12.04
    driver:
      name: docker
      use_sudo: false

suites:
  - name: default
    run_list:
      - recipe[osquery::default]
  - name: osquery_wrapper_legacy
    run_list:
      - recipe[osquery_spec::osquery_wrapper]
    driver:
        require_chef_omnibus: 11.18.12-1
  - name: osquery_wrapper
    run_list:
      - recipe[osquery_spec::osquery_wrapper]
  - name: osquery_conf
    run_list:
      - recipe[osquery_spec::osquery_conf]
  - name: osquery_decorators
    run_list:
      - recipe[osquery_spec::osquery_decorators]
